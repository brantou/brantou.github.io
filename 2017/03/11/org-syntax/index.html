<!doctype html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>






<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  
    
      
    

    
  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic|monospace:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="tutorial,org-mode,org-syntax,org-internal-structure," />





  <link rel="alternate" href="/atom.xml" title="Brantou的日常" type="application/atom+xml" />




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.0" />






<meta name="description" content="原文Org Syntax (draft)1由 Nicolas Goaziou 编辑，维护。本文只做学习之用。




本文档描述和说明被org的解析器和导出器框架使用的语法，当然还有几个对于当前语法的意见和建议。



在 Org 语法中核心概念是： 只有 headlines, sections, planning lines 和 property drawers 四种语法结构是上下文无关的2">
<meta property="og:type" content="article">
<meta property="og:title" content="Org 语法概览">
<meta property="og:url" content="https://brantou.github.io/2017/03/11/org-syntax/index.html">
<meta property="og:site_name" content="Brantou的日常">
<meta property="og:description" content="原文Org Syntax (draft)1由 Nicolas Goaziou 编辑，维护。本文只做学习之用。




本文档描述和说明被org的解析器和导出器框架使用的语法，当然还有几个对于当前语法的意见和建议。



在 Org 语法中核心概念是： 只有 headlines, sections, planning lines 和 property drawers 四种语法结构是上下文无关的2">
<meta property="og:updated_time" content="2017-04-21T08:16:16.307Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Org 语法概览">
<meta name="twitter:description" content="原文Org Syntax (draft)1由 Nicolas Goaziou 编辑，维护。本文只做学习之用。




本文档描述和说明被org的解析器和导出器框架使用的语法，当然还有几个对于当前语法的意见和建议。



在 Org 语法中核心概念是： 只有 headlines, sections, planning lines 和 property drawers 四种语法结构是上下文无关的2">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"always","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://brantou.github.io/2017/03/11/org-syntax/"/>





  <title> Org 语法概览 | Brantou的日常 </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  














  
  
    
  

  <div class="container sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Brantou的日常</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">二三事</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocapitalize="off" autocomplete="off" autocorrect="off"
             placeholder="搜索..." spellcheck="false"
             type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="https://brantou.github.io/2017/03/11/org-syntax/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Brantou">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://avatars1.githubusercontent.com/u/26197076?v=3&s=400">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Brantou的日常">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                Org 语法概览
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-03-11T00:00:00+08:00">
                2017-03-11
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/org-mode/" itemprop="url" rel="index">
                    <span itemprop="name">org-mode</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          
            <span class="post-meta-divider">|</span>
            <span class="page-pv"><i class="fa fa-file-o"></i>
            <span class="busuanzi-value" id="busuanzi_value_page_pv" ></span>
            </span>
          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        

<blockquote>
<p>
原文<a href="http://orgmode.org/worg/dev/org-syntax.html" target="_blank" rel="external">Org Syntax (draft)</a><sup><a id="fnr.1" class="footref" href="#fn.1">1</a></sup>由 <b>Nicolas Goaziou</b> 编辑，维护。本文只做学习之用。
</p>
</blockquote>

<p>
本文档描述和说明被org的解析器和导出器框架使用的语法，当然还有几个对于当前语法的意见和建议。
</p>

<p>
在 <b>Org</b> 语法中核心概念是： 只有 <b>headlines</b>, <b>sections</b>, <b>planning lines</b> 和 <b>property drawers</b> 四种语法结构是上下文无关的<sup><a id="fnr.2" class="footref" href="#fn.2">2</a></sup><sup>, </sup><sup><a id="fnr.3" class="footref" href="#fn.3">3</a></sup>；
其他语法结构只能存在于特定 <i>Environments</i> 之中。
</p>

<p>
<i>Environments</i> 从大到小(作用范围的尺度来做分类标准,从最宽到最窄)，大致可分为三类: "Greater element", "Element" 和 "Object"。
<b>Element</b> 被用到了两个类的命名中，Greater 和 non-Greater, 这代表了什么呢？代表了这两类有共通之处，即它们的上下文都会被清除，重新初始化。
</p>

<p>
<b>Paragraph</b> 是最小的语法单元。 定义 <b>Element</b> 的子语法结构和 <b>Paragraph</b> 同级,即不能包含 <b>Paragraph</b> 或者被包含在 <b>Paragraph</b> 中。
一个 <b>Object</b> 可以作为一部分被一个 <b>Element</b> 所包含。 <b>Greater element</b> 的任意部分都可以是一个 <b>Element</b> 。
</p>

<a id="more"></a>

<p>
空行属于在它们之前结束的最大 <b>Element</b> 。例如，在列表中，之间的空行属于它们之前的那一项，但列表末尾的空行属于当前列表 <b>Element</b> 。
</p>

<p>
除非特别说明，大小写默认不敏感。
</p>

<div id="outline-container-orgf06796b" class="outline-2">
<h2 id="Headlines_and_Sections"><a id="orgf06796b"></a><span class="section-number-2">1</span> Headlines and Sections</h2>
<div class="outline-text-2" id="text-Headlines_and_Sections">
<p>
<b>Headline</b> 定义如下:
</p>

<pre class="example">
STARS KEYWORD PRIORITY TITLE TAGS
</pre>

<p>
<b>STARS</b> 是一个从第0列开始的字符串，至少包含一个星号（如果加载了 <code>org-inlinetask</code> 库，则上限为 <code>org-inlinetask-min-level</code> ），并以空格字符结尾。
星号的个数代表标题的等级。它是标题中唯一必须的部分。
</p>

<p>
<b>KEYWORD</b> 是一个TODO关键字，它必须被定义在 <code>org-todo-keywords-1</code> 的列表。 大小写敏感。
</p>

<p>
<b>PRIORITY</b> 是一个优先级标示(priority cookie)。示例: <code>[#A]</code> 。
</p>

<p>
<b>TITLE</b> 可以由换行符以外的任意字符组成。 标题下的内容匹配了搜索条件，代表此标题匹配。
</p>

<p>
<b>TAGS</b> 由 <code>:</code> 分隔的多个单词组成, 单词可由任何字母数字字符， <code>_</code> ， <code>@</code> ， <code>#</code> 或 <code>%</code> 组成。
</p>

<p>
有效标题的示例,如下：
</p>

<pre class="example">
*

** DONE

*** Some e-mail

**** TODO [#A] COMMENT Title :tag:a2%:
</pre>

<p>
若标题中的第一个单词是 <code>org-comment-string</code> ，当前标题将被作为 <i>"commented"</i> 。 大小写敏感。
若标题中的第一个单词是 <code>org-quote-string</code> ，当前标题将被作为 <i>"quoted"</i> 。 大小写敏感。
</p>

<p>
若其标题是 <code>org-footnote-section</code> 将被作为 /"footnote section"/。 大小写敏感。
</p>

<p>
若 <code>org-archive-tag</code> 是它的标签之一，它被作为 <i>"archived"</i> 。 大小写敏感。
</p>

<p>
标题可直接包含一个段落（可选），再跟任意数量的更深级别的标题(递归定义)。 一个段落可直接包含任意 <code>Greater elelment</code> 或 <code>Element</code> 。
只有标题可以包含段落。 文档中的第一个标题之前的文本除外，因为它属于一个段落。
</p>

<p>
作为示例，请考虑以下文档：
</p>

<div class="org-src-container">
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">An introduction.&#10;&#10;* A Headline &#10;&#10;  Some text.&#10;&#10;** Sub-Topic 1&#10;&#10;** Sub-Topic 2&#10;&#10;*** Additional entry &#10;&#10;** QUOTE Another Sub-Topic&#10;&#10;   Some other text.</span><br></pre></td></tr></table></figure>
</div>

<p>
其内部结构可概括为:
</p>

<pre class="example">
(document
 (section)
 (headline
  (section)
  (headline)
  (headline
   (headline))
  (headline
   (quote-section))))
</pre>
</div>
</div>

<div id="outline-container-org72c03aa" class="outline-2">
<h2 id="Affiliated_keywords"><a id="org72c03aa"></a><span class="section-number-2">2</span> Affiliated Keywords</h2>
<div class="outline-text-2" id="text-Affiliated_keywords">
<p>
除了<a href="#Inlinetasks">inlinetasks</a>, <a href="#Plain_Lists_and_Items">items</a>, <a href="#Clock,_Diary_Sexp_and_Planning">planning</a>, <a href="#Clock,_Diary_Sexp_and_Planning">clocks</a>, <a href="#Node_Properties">node properties</a> 和 <a href="#Table_Rows">table rows</a> 之外，其他的任意的 <code>Element</code> 类型都可为其指定属性。
</p>

<p>
在选定的 <code>Element</code> 之前添加命名为 <b>Affiliated keywords</b> 的特定关键字,可指定属性的(在 <code>Element</code> 之前插入"affiliated keywords"，不允许两者之前存在空行)。
</p>

<p>
<b>Affiliated keywords</b> 是建立在以下模式之上的： "#+KEY: VALUE", "#+KEY[OPTIONAL]: VALUE" 或者 "#+ATTR_BACKEND: VALUE" 。
</p>

<p>
<b>KEY</b> 可以是 "CAPTION", "HEADER", "NAME", "PLOT" 或 "RESULTS" 中的任意一个.
</p>

<p>
<b>BACKEND</b> 是一个由字母,数字，连字符或下划线组合而成的字符串。
</p>

<p>
<b>OPTIONAL</b> 和 <b>VALUE</b> 可以包含除换行符以外的任意字符。 只有"CAPTION"和"RESULTS"可以有可选值。
</p>

<p>
如果 <b>KEY</b> 为"CAPTION"或"HEADER"，或者其模式为"＃+ATTR_BACKEND：VALUE"，则 <b>Affiliated keywords</b> 可以多次出现。
</p>

<p>
"CAPTION"，"AUTHOR"，"DATE"和"TITLE"可以包含 <code>Object</code> 及其可选值（如果适用）。
</p>
</div>
</div>

<div id="outline-container-orgb6d1114" class="outline-2">
<h2 id="Greater_Elements"><a id="orgb6d1114"></a><span class="section-number-2">3</span> Greater Elements</h2>
<div class="outline-text-2" id="text-Greater_Elements">
<p>
除非特别说明， <code>Greater elements</code> 可以直接包含任何其他 <code>Element</code> 或 除了下面之外的 <code>Greater element</code> ：
</p>

<ul class="org-ul">
<li>同样类型的 <code>Element</code></li>
<li><a href="#Node_Properties">node properties</a>, 只存在于<a href="#Drawers_and_Property_Drawers">property drawers</a> 中,</li>
<li><a href="#Plain_Lists_and_Items">items</a>, 只存在于<a href="#Plain_Lists_and_Items">plain lists</a> 中。</li>
</ul>
</div>

<div id="outline-container-org7a71807" class="outline-3">
<h3 id="Greater_Blocks"><a id="org7a71807"></a><span class="section-number-3">3.1</span> Greater Blocks</h3>
<div class="outline-text-3" id="text-Greater_Blocks">
<p>
<b>Greater blocks</b> 由以下模式组成:
</p>

<pre class="example">
#+BEGIN_NAME PARAMETERS
CONTENTS
#+END_NAME
</pre>

<p>
<b>NAME</b> 可以由任意非空白字符组成。
</p>

<p>
<b>PARAMETERS</b> 可以包含除换行符以外的任意字符，可以省略。
</p>

<p>
如果 <b>NAME</b> 是 <i>CENTER</i> ，表示当前 <b>Greater block</b> 是一个"center block"。 如果是 <i>QUOTE</i> ，表示是一个"quote block"。
</p>

<p>
如果 <b>Block</b> 既不是 <i>center block</i> ， <i>quote block</i> 或  <a href="#Blocks">block element</a>，则是 <i>special block</i> 。
</p>

<p>
<b>CONTENTS</b> 可以包含任何 <code>Element</code> ，除了： <b>Block</b> 自己的结束行 <i>＃+END_NAME</i> 。 此外，以星号开头的行必须用逗号引号。
</p>
</div>
</div>

<div id="outline-container-orgb421120" class="outline-3">
<h3 id="Drawers_and_Property_Drawers"><a id="orgb421120"></a><span class="section-number-3">3.2</span> Drawers and Property Drawers</h3>
<div class="outline-text-3" id="text-Drawers_and_Property_Drawers">
<p>
<b>Drawer</b> 的模式如下:
</p>

<pre class="example">
:NAME:
CONTENTS
:END:
</pre>

<p>
<b>NAME</b> 可以包含词组字符(word-constituent characters)，连字符和下划线。
</p>

<p>
<b>NAME</b> 必须是"PROPERTIES"或属于 <code>org-drawers</code> 所定义列表。
</p>

<p>
如果 <b>NAME</b> 是 <i>PROPERTIES</i> ，则 <b>Drawer</b> 即为 <i>property drawer</i> 。
</p>

<p>
CONTENTS可以包含任何 <code>Element</code> ，除了 <b>Drawer</b> 。
</p>

<p>
在 <b>Property drawer</b> 中，*CONTENTS* 只能包含节点 <a href="#Node_Properties">node property</a> <code>Element</code> 。其他类型 <b>Drawer</b> ，它可以包含任何 <code>Element</code> ，除了另一个 <b>Drawer</b> 或 <b>Property drawer</b> 。
</p>

<hr>

<blockquote>
<p>
It would be nice if users hadn't to register drawers names before
using them in <code>org-drawers</code> (or through the <code>#+DRAWERS:</code> keyword).
Anything starting with <code>^[ \t]*:\w+:[ \t]$</code> and ending with
<code>^[ \t]*:END:[ \t]$</code> could be considered as a drawer.  &#x2014; ngz
</p>
</blockquote>
</div>
</div>

<div id="outline-container-org1cf7e81" class="outline-3">
<h3 id="Dynamic_Blocks"><a id="org1cf7e81"></a><span class="section-number-3">3.3</span> Dynamic Blocks</h3>
<div class="outline-text-3" id="text-Dynamic_Blocks">
<p>
<b>Dynamic blocks</b> 的模式是：
</p>

<pre class="example">
#+BEGIN: NAME PARAMETERS
CONTENTS
#+END:
</pre>

<p>
<b>NAME</b> 不能包含任何空格字符。
</p>

<p>
<b>PARAMETERS</b> 可以包含任何字符，可以省略。
</p>
</div>
</div>

<div id="outline-container-orgacf6ea8" class="outline-3">
<h3 id="Footnote_Definitions"><a id="orgacf6ea8"></a><span class="section-number-3">3.4</span> Footnote Definitions</h3>
<div class="outline-text-3" id="text-Footnote_Definitions">
<p>
<b>Footnote definition</b> 的模式是：
</p>

<pre class="example">
[LABEL] CONTENTS
</pre>

<p>
它必须从列0开始。
</p>

<p>
<b>LABEL</b> 是一个数字或遵循 <code>fn:WORD</code> 的模式，其中word可以包含任何字组字符(word-constituent character)，连字符和下划线字符。
</p>

<p>
<b>CONTENTS</b> 可以包含除另一个 <b>Footnote definition</b> 定义之外的任何元素。 它在下一个脚注定义结束，下一个标题，两个连续的空行或缓冲区的结尾。
</p>
</div>
</div>

<div id="outline-container-org34bfde2" class="outline-3">
<h3 id="Inlinetasks"><a id="org34bfde2"></a><span class="section-number-3">3.5</span> Inlinetasks</h3>
<div class="outline-text-3" id="text-Inlinetasks">
<p>
<b>Inlinetasks</b> 定义为从第0列开始的 <code>org-inlinetask-min-level</code> 个连续星号字符,后跟空格字符。
</p>

<p>
可选地，可以使用由从第0列开始的 <code>org-inlinetask-min-level</code> 个连续星号字符构成的字符串来结束 <b>Inlinetasks</b> ，后面跟着空格和"END"字符串。
</p>

<p>
只有在加载了 <code>org-inlinetask</code> 库之后才能识别 <b>Inlinetasks</b> 。
</p>
</div>
</div>

<div id="outline-container-org35dbfb3" class="outline-3">
<h3 id="Plain_Lists_and_Items"><a id="org35dbfb3"></a><span class="section-number-3">3.6</span> Plain Lists and Items</h3>
<div class="outline-text-3" id="text-Plain_Lists_and_Items">
<p>
<b>Item</b> 通过从以下模式开始的行来定义：
</p>
<pre class="example">
BULLET COUNTER-SET CHECK-BOX TAG
</pre>
<p>
其中只有BULLET是必须的。
</p>

<p>
<b>BULLET</b> 是星号，连字符，加号(用于 <i>unstored list</i>)或者遵循模式 <i>COUNTER.</i> 或者 <i>COUNTER)</i> (用于 <i>stored list</i>)。 在任何情况下，BULLET后跟空格字符或换行符。
</p>

<p>
<b>COUNTER</b> 可以是数字或单个字母。
</p>

<p>
<b>COUNTER-SET</b> 遵循模式[@COUNTER]。
</p>

<p>
<b>CHECK-BOX</b> 是单个空格字符， <i>X</i> 字符或连字符，括在方括号中。
</p>

<p>
<b>TAG</b> 遵循 "TAG-TEXT ::"模式，其中TAG-TEXT可以包含除换行符以外的任意字符。
</p>

<p>
<b>Item</b> 在下一个 <b>Item</b> 之前结束条件: 小于或等于其起始行缩进的首行，或两个连续的空行。 其他 <code>Greater elements</code> 内的线的缩进不算，内联边界也不计。
</p>

<p>
<b>Plain list</b> 是一组具有相同缩进的连续 <b>Item</b> 。 它只能直接包含 <b>Item</b> 。
</p>

<p>
如果 <b>Plain list</b> 中的第一个 <b>Item</b> 在其 <b>bullet</b> 中有一个 <i>counter</i> ，那么 <b>Plain list</b> 将是一个 <i>ordered plain-list</i> 。
如果它包含一个 <b>tag</b> ，它将是一个 <i>descriptive list</i> 。 否则，它将是一个 <i>unordered list</i> 。 <b>List</b> 类型是互斥的。
</p>

<p>
示例，思考如下的Org文档片段：
</p>

<pre class="example">
1. item 1
2. [X] item 2
   - some tag :: item 2.1
</pre>

<p>
它的内部结构如下所示:
</p>

<pre class="example">
(ordered-plain-list
 (item)
 (item
  (descriptive-plain-list
   (item))))
</pre>
</div>
</div>

<div id="outline-container-org115b309" class="outline-3">
<h3 id="org115b309"><span class="section-number-3">3.7</span> Property Drawers</h3>
<div class="outline-text-3" id="text-3-7">
<p>
<b>Property Drawer</b> 是一种特殊类型的 <b>Drawer</b> ，包含附加到标题的属性。 它们位于<a href="#Headlines_and_Sections">headline</a> 和其<a href="#Clock,_Diary_Sexp_and_Planning">planning</a>信息之后。
</p>

<pre class="example">
HEADLINE
PROPERTYDRAWER

HEADLINE
PLANNING
PROPERTYDRAWER
</pre>

<p>
<b>PROPERTYDRAWER</b> 遵循下面的模式
</p>

<pre class="example">
:PROPERTIES:
CONTENTS
:END:
</pre>

<p>
其中 <b>CONTENTS</b> 由零个或多个<a href="#Node_Properties">node properties</a>组成。
</p>
</div>
</div>

<div id="outline-container-org8b62785" class="outline-3">
<h3 id="Tables"><a id="org8b62785"></a><span class="section-number-3">3.8</span> Tables</h3>
<div class="outline-text-3" id="text-Tables">
<p>
<b>Tables</b> 从以竖线或"+-"字符串开始的行开始，后面跟着加号或减号，假定它们前面没有相同类型的行。 这些线可以缩进。
</p>

<p>
以垂直条开始的表具有 <b>org</b> 类型。 否则它具有 <b>table.el</b> 类型。
</p>

<p>
Org <b>Tables</b> 结束于以竖线开始的行。 Table.el <b>Tables</b> 结束于不以垂直线或加号开始的行。 这样的线可以是锯齿状的。
</p>

<p>
Org <b>Tables</b> 只能包含 <i>table rows</i> 。 table.el <b>Tables</b> 不包含任何内容。
</p>

<p>
一个或多个"＃+TBLFM：FORMULAS"行，其中 <i>FORMULAS</i> 可以包含任何字符，可以在 Org <b>Tables</b> 之后。
</p>
</div>
</div>
</div>

<div id="outline-container-org12a9783" class="outline-2">
<h2 id="Elements"><a id="org12a9783"></a><span class="section-number-2">4</span> Elements</h2>
<div class="outline-text-2" id="text-Elements">
<p>
<code>Element</code> 不能包含任何其他元素。
</p>

<p>
只有<a href="#Keywords">keywords</a>名称属于 <code>org-element-document-properties</code>, <a href="#Blocks">verse blocks</a> , <a href="#Paragraphs">paragraphs</a> 和 <a href="#Table_Rows">table rows</a> 可以包含 <code>Object</code> 。
</p>
</div>

<div id="outline-container-org7c03a28" class="outline-3">
<h3 id="Babel_Call"><a id="org7c03a28"></a><span class="section-number-3">4.1</span> Babel Call</h3>
<div class="outline-text-3" id="text-Babel_Call">
<p>
<b>Babel calls</b> 的模式如下:
</p>

<pre class="example">
#+CALL: VALUE
</pre>

<p>
<b>VALUE</b> 是可选的。 它可以包含除换行符以外的任意字符。
</p>
</div>
</div>

<div id="outline-container-org8d5de32" class="outline-3">
<h3 id="Blocks"><a id="org8d5de32"></a><span class="section-number-3">4.2</span> Blocks</h3>
<div class="outline-text-3" id="text-Blocks">
<p>
像 <a href="#Greater_Blocks">Greater blocks</a> 一样， <b>Block</b> 模式如下：
</p>

<pre class="example">
#+BEGIN_NAME DATA
CONTENTS
#+END_NAME
</pre>

<p>
<b>NAME</b> 不能包含任何空格字符。
</p>

<p>
如果 <b>NAME</b> 是 <i>COMMENT</i> ，它将是一个"comment block"。如果它是 <i>EXAMPLE</i> ，它将是一个"example block"。
如果它是 <i>EXPORT</i> ，它将是一个"export block"。如果它是 <i>SRC</i> ，它将是一个"source block"。如果是 <i>VERSE</i> ，它将是一个"verse block"。
</p>

<p>
如果 <b>NAME</b> 是与加载的任何 <i>export back-end</i> 的名称相匹配，则块将是"export block"。
</p>

<p>
<b>DATA</b> 可以包含除换行符以外的任意字符。它可以省略，除非 <b>Block</b> 是"source block"或"export block"。
在后一种情况(export block)下，它应该由一个单词组成。
在前一种情况(source block)下，它必须遵循"LANGUAGE SWITCHES ARGUMENTS"的模式，其中 <b>SWITCHES</b> 和 <b>ARGUMENTS</b> 是可选的。
</p>

<p>
<b>LANGUAGE</b> 不能包含任何空格字符。
</p>

<p>
<b>SWITCHES</b> 由任意数量的"SWITCH"模式组成，由空行分隔。
</p>

<p>
<b>SWITCH</b> 模式是 "-l" FORMAT ""，其中 <i>FORMAT</i> 可以包含除双引号和换行符之外的任意字符, "-S"或"+ S"，其中S表示单个字母。
</p>

<p>
<b>ARGUMENTS</b> 可以包含除换行符以外的任意字符。
</p>

<p>
<b>CONTENTS</b> 可以包含任意字符, 包括换行符。 <b>Verse block</b> 只能包含 Org <b>Block</b> ，不然的话 <b>CONTENTS</b> 将不能被解析。
</p>
</div>
</div>

<div id="outline-container-org83259b9" class="outline-3">
<h3 id="Clock,_Diary_Sexp_and_Planning"><a id="org83259b9"></a><span class="section-number-3">4.3</span> Clock, Diary Sexp and Planning</h3>
<div class="outline-text-3" id="text-Clock,_Diary_Sexp_and_Planning">
<p>
<b>Clock</b> 模式如下:
</p>

<pre class="example">
CLOCK: TIMESTAMP DURATION
</pre>

<p>
<b>TIMESTAMP</b> 和 <b>DURATION</b> 都是可选的。
</p>

<p>
<b>TIMESTAMP</b> 是一个 <a href="#Timestamp">timestamp</a> <code>object</code> 。
</p>

<p>
<b>DURATION</b> 遵循模式如下:
</p>

<pre class="example">
=&gt; HH:MM
</pre>

<p>
HH是一个包含任意位数的数字。 MM是两位数字。
</p>

<p>
<b>Diary sexp</b> 是以第"%%（"从0列起始一行，它可以包含除了换行符之外的任意字符。
</p>

<p>
<b>planning</b> 遵循下面模式的 <code>Element</code> ：
</p>

<pre class="example">
HEADLINE
PLANNING
</pre>

<p>
其中 <b>HEADLINE</b> 是标题 <code>Element</code> ，PLANNING是填充有INFO部分的行，其中每个都遵循以下模式：
</p>

<pre class="example">
KEYWORD: TIMESTAMP
</pre>

<p>
KEYWORD是 <code>org-deadline-string</code> ， <code>org-scheduled-string</code> 和 <code>org-closed-string</code> 中的一个字符串。 TIMESTAMP是一个<a href="#Timestamp">timestamp</a> <code>Object</code> 。
特别要强调的一点，就是在PLANNING和HEADLINE之间不允许有空行。
</p>

<p>
即使 <code>Planning element</code> 可以存在于一个 <code>Section</code> 中的任何地方或者一个 <code>Greater element</code> 中，但是它只影响标题包含的 <code>Section</code> ，前提是它位在该标题之后。
</p>
</div>
</div>

<div id="outline-container-org2e291d9" class="outline-3">
<h3 id="Comments"><a id="org2e291d9"></a><span class="section-number-3">4.4</span> Comments</h3>
<div class="outline-text-3" id="text-Comments">
<blockquote>
<p>
A "comment line" starts with a hash signe and a whitespace
character or an end of line.
</p>

<p>
Comments can contain any number of consecutive comment lines.
</p>
</blockquote>
</div>
</div>

<div id="outline-container-orge45400f" class="outline-3">
<h3 id="Fixed_Width_Areas"><a id="orge45400f"></a><span class="section-number-3">4.5</span> Fixed Width Areas</h3>
<div class="outline-text-3" id="text-Fixed_Width_Areas">
<blockquote>
<p>
A "fixed-width line" start with a colon character and a whitespace or an end of line.
</p>

<p>
Fixed width areas can contain any number of consecutive fixed-width lines.
</p>
</blockquote>
</div>
</div>

<div id="outline-container-orgb75b248" class="outline-3">
<h3 id="Horizontal_Rules"><a id="orgb75b248"></a><span class="section-number-3">4.6</span> Horizontal Rules</h3>
<div class="outline-text-3" id="text-Horizontal_Rules">
<blockquote>
<p>
A horizontal rule is a line made of at least 5 consecutive hyphens.
It can be indented.
</p>
</blockquote>
</div>
</div>

<div id="outline-container-orgb90460a" class="outline-3">
<h3 id="Keywords"><a id="orgb90460a"></a><span class="section-number-3">4.7</span> Keywords</h3>
<div class="outline-text-3" id="text-Keywords">
<p>
<b>Keywords</b> 语法如下:
</p>

<pre class="example">
#+KEY: VALUE
</pre>

<p>
<b>KEY</b> 可以包含任何非空字符，但不能等于"CALL"或任何 <a href="#Affiliated_keywords">Affiliated keyword</a> 。
</p>

<p>
<b>VALUE</b> 可以包含除了换行符之外的任何字符。
</p>

<p>
如果 <b>KEY</b> 属于 <code>org-element-document-properties</code> ，则 <b>VALUE</b> 可以包含 <code>Object</code> 。
</p>
</div>
</div>

<div id="outline-container-org3e49268" class="outline-3">
<h3 id="LaTeX_Environments"><a id="org3e49268"></a><span class="section-number-3">4.8</span> LaTeX Environments</h3>
<div class="outline-text-3" id="text-LaTeX_Environments">
<p>
<b>LaTeX environment</b> 的模式如下:
</p>

<pre class="example">

\begin{NAME}ARGUMENTS
CONTENTS
\end{NAME}

</pre>

<p>
<b>NAME</b> 由字母数字或星号字符组成。
</p>

<p>
<b>CONTENTS</b> 可以包含除"\ end {NAME}"字符串之外的任何内容。
</p>

<blockquote>
<p>
NAME is constituted of alpha-numeric characters and may end with an
asterisk.
</p>

<p>
ARGUMENTS is is any number (including zero) of ARGUMENT constructs
like <code>[DATA]</code> or  <code>{DATA}</code> .  DATA can contain any character excepted
a new line or the one ending ARGUMENT.
</p>

<p>
CONTENTS can contain anything but the  "\end{NAME}"  string.
</p>
</blockquote>
</div>
</div>
<div id="outline-container-org8b45d6e" class="outline-3">
<h3 id="Node_Properties"><a id="org8b45d6e"></a><span class="section-number-3">4.9</span> Node Properties</h3>
<div class="outline-text-3" id="text-Node_Properties">
<p>
<b>Node propertie</b> 只能存在于<a href="#Drawers_and_Property_Drawers">property drawers</a>中。 它可以是下面模式的任意一个:
</p>

<pre class="example">
:NAME: VALUE

:NAME+: VALUE

:NAME:

:NAME+:
</pre>

<p>
NAME* 可以包含任何非空字符，但不能以加号结尾。 不能是空字符串。
</p>

<p>
<b>VALUE</b> 可以包含除换行符之外的任何内容。
</p>
</div>
</div>

<div id="outline-container-org3772eb4" class="outline-3">
<h3 id="Paragraphs"><a id="org3772eb4"></a><span class="section-number-3">4.10</span> Paragraphs</h3>
<div class="outline-text-3" id="text-Paragraphs">
<p>
<b>Paragraphs</b> 是默认 <code>Element</code> ，这意味着任何无法识别的上下文(unrecognized context)都是段落。
</p>

<p>
空行和其他 <code>Element</code> 结束 <b>Paragraphs</b> 。
</p>

<p>
<b>Paragraphs</b> 可以包含任意类型的 <code>Object</code> 。
</p>
</div>
</div>

<div id="outline-container-orgab9204f" class="outline-3">
<h3 id="Table_Rows"><a id="orgab9204f"></a><span class="section-number-3">4.11</span> Table Rows</h3>
<div class="outline-text-3" id="text-Table_Rows">
<p>
<b>Table Row</b> 由 <i>vertical bar</i> 和任意数量的<a href="#Table_Cells">table cells</a>组成，或者由连字符后面跟 <i>vertical ba</i> 组成。
</p>

<p>
在第一种情况下， <b>Tables Row</b> 具有 <i>standard</i> 类型。 在第二种情况下，它具有 <i>rule</i> 类型。
</p>

<p>
<b>Tables Row</b> 只能存在于<a href="#Tables">tables</a>中。
</p>

<blockquote>
<p>
A table rows is either constituted of a vertical bar and any number
of <a href="#Table_Cells">table cells</a> or a vertical bar followed by a hyphen.
</p>

<p>
In the first case the table row has the "standard" type.  In the
second case, it has the "rule" type.
</p>

<p>
Table rows can only exist in <a href="#Tables">tables</a>.
</p>
</blockquote>
</div>
</div>
</div>
<div id="outline-container-org0db8e74" class="outline-2">
<h2 id="Objects"><a id="org0db8e74"></a><span class="section-number-2">5</span> Objects</h2>
<div class="outline-text-2" id="text-Objects">
<p>
只能在以下位置找到 <code>Object</code>:
</p>

<ul class="org-ul">
<li><code>org-element-parsed-keywords</code> 中定义的  <a href="#Affiliated_keywords">affiliated keywords</a>,</li>
<li><a href="#Keywords">document properties</a>,</li>
<li><a href="#Headlines_and_Sections">headline</a> titles,</li>
<li><a href="#Inlinetasks">inlinetask</a> titles,</li>
<li><a href="#Plain_Lists_and_Items">item</a> tags,</li>
<li><a href="#Paragraphs">paragraphs</a>,</li>
<li><a href="#Table_Cells">table cells</a>,</li>
<li><a href="#Table_Rows">table rows</a>, 它只能包含 <i>table cell</i> <code>objects</code> ,</li>
<li><a href="#Blocks">verse blocks</a>.</li>
</ul>

<p>
大多数 <code>Object</code> 不能包含 <code>Object</code> 。 那些可以包含的会做特别说明的。
</p>
</div>

<div id="outline-container-org959f5ca" class="outline-3">
<h3 id="Entities_and_LaTeX_Fragments"><a id="org959f5ca"></a><span class="section-number-3">5.1</span> Entities and LaTeX Fragments</h3>
<div class="outline-text-3" id="text-Entities_and_LaTeX_Fragments">
<p>
<b>Entities</b> 遵循的模式如下：
</p>

<pre class="example">
\NAME POST
</pre>

<p>
其中 <b>NAME</b> 和 <code>org-entities</code> 或 <code>org-entities-user</code> 之间具有有效关联。
</p>

<p>
<b>POST</b> 是行尾，"{}""字符串或非字母字符。 它不是由空格符与NAME分隔。
where NAME has a valid association in either <code>org-entities</code> or <code>org-entities-user</code>.
</p>

<p>
<b>LaTeX Fragments</b> 可以遵循多种模式:
</p>

<pre class="example">
\NAME BRACKETS
\(CONTENTS\)
\[CONTENTS\]
$$CONTENTS$$
PRE$CHAR$POST
PRE$BORDER1 BODY BORDER2$POST
</pre>

<p>
<b>NAME</b> 仅包含字母字符，且不能和 <code>org-entities</code> 或  <code>org-entities-user</code> 具有关联。
</p>

<p>
<b>BRACKETS</b> 是可选的，不与 <b>NAME</b> 用空格分隔。 它可以包含任意数量的以下模式：
</p>
<pre class="example">

[CONTENTS1]
{CONTENTS2}

</pre>

<p>
其中CONTENTS1可以包含除"{""}"，"[""]"以及换行符和CONTENTS2之外的任何字符可以包含除"{"，"}"和换行符之外的任何字符。
</p>

<blockquote>
<p>
CONTENTS can contain any character but cannot contain "\)" in the second template or "\]" in the third one.
</p>

<p>
PRE is either the beginning of line or a character different from <code>$</code>.
</p>

<p>
CHAR is a non-whitespace character different from <code>.</code>, <code>,</code>, <code>?</code>, <code>;</code>, <code>'</code> or a double quote.
</p>

<p>
POST is any of <code>-</code>, <code>.</code>, <code>,</code>, <code>?</code>, <code>;</code>, <code>:</code>, <code>'</code>, a double quote, a whitespace character and the end of line.
</p>

<p>
BORDER1 is a non-whitespace character different from <code>.</code>, <code>;</code>, <code>.</code> and <code>$</code>.
</p>

<p>
BODY can contain any character excepted <code>$</code>, and may not span over more than 3 lines.
</p>

<p>
BORDER2 is any non-whitespace character different from <code>,</code>, <code>.</code> and <code>$</code>.
</p>
</blockquote>

<hr>

<blockquote>
<p>
It would introduce incompatibilities with previous Org versions,
but support for <code>$...$</code> (and for symmetry, <code>$$...$$</code>) constructs
ought to be removed.
</p>

<p>
They are slow to parse, fragile, redundant and imply false
positives.  &#x2014; ngz
</p>
</blockquote>
</div>
</div>

<div id="outline-container-org53af729" class="outline-3">
<h3 id="Export_Snippets"><a id="org53af729"></a><span class="section-number-3">5.2</span> Export Snippets</h3>
<div class="outline-text-3" id="text-Export_Snippets">
<p>
<b>Export snippets</b> 模式如下:
</p>

<pre class="example">
@@NAME:VALUE@@
</pre>

<p>
<b>NAME</b> 可以包含任何字母数字字符和连字符。
</p>

<p>
<b>VALUE</b> 可以包含除"@@"字符串之外的任何内容。
</p>
</div>
</div>

<div id="outline-container-org794917e" class="outline-3">
<h3 id="Footnote_References"><a id="org794917e"></a><span class="section-number-3">5.3</span> Footnote References</h3>
<div class="outline-text-3" id="text-Footnote_References">
<p>
<code>Footnote References</code> 有四种模式:
</p>

<pre class="example">
[MARK]
[fn:LABEL]
[fn:LABEL:DEFINITION]
[fn::DEFINITION]
</pre>

<p>
<b>MARK</b> 是一个数字。
</p>

<p>
<b>LABEL</b> 可以包含任何字组成字符，连字符和下划线。
</p>

<p>
<b>DEFINITION</b> 可以包含任何字符。 开关方括号必须成对出现。 它可以包含任何出现在 <b>Paragraph</b> 中的 <code>Object</code> ，甚至其他 <b>Footnote Reference</b> 。
</p>

<p>
如果引用遵循第三模式，则其被称为 <i>inline footnote</i> ，如果它跟随第四个，即如果省略 <b>LABEL</b> ，它是一个 <i>anonymous footnote</i> 。
</p>
</div>
</div>

<div id="outline-container-orge245933" class="outline-3">
<h3 id="Inline_Babel_Calls_and_Source_Blocks"><a id="orge245933"></a><span class="section-number-3">5.4</span> Inline Babel Calls and Source Blocks</h3>
<div class="outline-text-3" id="text-Inline_Babel_Calls_and_Source_Blocks">
<p>
<b>Inline Babel call</b> 遵循以下任何模式:
</p>

<pre class="example">
call_NAME(ARGUMENTS)
call_NAME[HEADER](ARGUMENTS)[HEADER]
</pre>

<blockquote>
<p>
NAME can contain any character besides <code>(</code>, <code>)</code> and "\n".
</p>

<p>
HEADER can contain any character besides <code>]</code> and "\n".
</p>

<p>
ARGUMENTS can contain any character besides <code>)</code> and "\n".
</p>
</blockquote>

<p>
<code>Inline source blocks</code> 遵循以下任何模式:
</p>

<pre class="example">

src_LANG{BODY}
src_LANG[OPTIONS]{BODY}

</pre>

<blockquote>
<p>
LANG can contain any non-whitespace character.
</p>

<p>
OPTIONS and BODY can contain any character but "\n".
</p>
</blockquote>
</div>
</div>

<div id="outline-container-orgacbf214" class="outline-3">
<h3 id="Line_Breaks"><a id="orgacbf214"></a><span class="section-number-3">5.5</span> Line Breaks</h3>
<div class="outline-text-3" id="text-Line_Breaks">
<blockquote>
<p>
A line break consists in "\\SPACE" pattern at the end of an otherwise non-empty line.
</p>

<p>
SPACE can contain any number of tabs and spaces, including 0.
</p>
</blockquote>
</div>
</div>

<div id="outline-container-org81e76db" class="outline-3">
<h3 id="Links"><a id="org81e76db"></a><span class="section-number-3">5.6</span> Links</h3>
<div class="outline-text-3" id="text-Links">
<p>
有4种主要类型的 <b>Link</b>:
</p>

<pre class="example">
PRE1 RADIO POST1          ("radio" link)
&lt;PROTOCOL:PATH&gt;           ("angle" link)
PRE2 PROTOCOL:PATH2 POST2 ("plain" link)
[[PATH3]DESCRIPTION]      ("regular" link)
</pre>

<p>
<b>PRE1</b> 和 <b>POST1</b> （如果存在）是非字母数字字符。
</p>

<p>
<b>RADIO</b> 是被某些<a href="#Targets_and_Radio_Targets">radio target</a> 匹配的字符串。 它可以只包含 <a href="#Entities_and_LaTeX_Fragments">entities</a>, <a href="#Entities_and_LaTeX_Fragments">latex fragments</a>, <a href="#Subscript_and_Superscript">subscript</a> 和 <a href="#Subscript_and_Superscript">superscript</a>。
</p>

<p>
<b>PROTOCOL</b> 属于 <code>org-link-types</code> 中定义的链接协议类型。
</p>

<p>
<b>PATH</b> 可以包含除了 <code>]</code>, <code>&lt;</code>, <code>&gt;</code> 和 <code>\n</code> 以外的任何字符。
</p>

<p>
<b>PRE2</b> 和 <b>POST2</b> ，当它们存在时，是非字构成字符(word constituent characters)。
</p>

<p>
<b>PATH2</b> 可以包含除了 <code>(</code>, <code>)</code>, <code>&lt;</code> 和 <code>&gt;</code> 之外的任何非空字符。 它必须以字组成字符结尾，或任何非空格 非标点符号后面跟着 <code>/</code> 。
</p>

<p>
<b>DESCRIPTION</b> 必须括在方括号中。 它可以包含除了方括号以外的任何字符。
它可以包含除了 <a href="#Footnote_References">footnote reference</a>, <a href="#Targets_and_Radio_Targets">radio target</a> 和 <a href="#Line_Breaks">line break</a>之外的任何可在 <code>paragraph</code> 中找到的 <code>object</code> 。
它不能包含另一个 <b>link</b> ，除非它是 <i>plain</i> 或者 <i>angular</i> <b>link</b> 。
</p>

<p>
<b>DESCRIPTION</b> 是可选的。
</p>

<p>
<b>PATH3</b> 根据以下模式构建:
</p>

<pre class="example">
FILENAME           ("file" type)
PROTOCOL:PATH4     ("PROTOCOL" type)
PROTOCOL://PATH4   ("PROTOCOL" type)
id:ID              ("id" type)
#CUSTOM-ID         ("custom-id" type)
(CODEREF)          ("coderef" type)
FUZZY              ("fuzzy" type)
</pre>

<p>
<b>FILENAME</b> 是一个文件名，绝对路径或相对路径。
</p>

<p>
<b>PATH4</b> 可以包含除方括号外的任何字符。
</p>

<p>
<b>ID</b> 由用连字符分隔的十六进制数字构成。
</p>

<p>
<b>PATH4</b> ，*CUSTOM-ID* ，*CODEREF* 和 <b>FUZZY</b> 可以包含除方括号外的任何字符。
</p>

<hr>

<blockquote>
<p>
I suggest to remove angle links.  If one needs spaces in PATH, she can use standard link syntax instead.
</p>

<p>
I also suggest to remove <code>org-link-types</code> dependency in PROTOCOL and match <code>[a-zA-Z]</code> instead, for portability.  &#x2014; ngz
</p>
</blockquote>
</div>
</div>

<div id="outline-container-orgdfcf2b4" class="outline-3">
<h3 id="Macros"><a id="orgdfcf2b4"></a><span class="section-number-3">5.7</span> Macros</h3>
<div class="outline-text-3" id="text-Macros">
<p>
<b>Macros</b> 遵循如下模式:
</p>

<pre class="example">

{{{NAME(ARGUMENTS)}}}

</pre>

<p>
<b>NAME</b> 必须以字母开头，后面可以跟随任意数量的字母数字字符，连字符和下划线。
</p>

<p>
<b>ARGUMENTS</b> 可以包含除"}}}" 字符串之外的任何内容。 <b>ARGUMENTS</b> 中的值用逗号分隔。 非分隔逗号必须用反斜杠字符转义。
</p>
</div>
</div>

<div id="outline-container-org344293a" class="outline-3">
<h3 id="Targets_and_Radio_Targets"><a id="org344293a"></a><span class="section-number-3">5.8</span> Targets and Radio Targets</h3>
<div class="outline-text-3" id="text-Targets_and_Radio_Targets">
<p>
<b>Radio targets</b> 的模式如下:
</p>

<pre class="example">
&lt;&lt;&lt;CONTENTS&gt;&gt;&gt;
</pre>

<p>
<b>CONTENTS</b> 可以是除了 <code>&lt;</code>, <code>&gt;</code> 和 <code>\n</code> 之外的任何字符。 它不能以空格字符开始或结束。 作为 <code>objects</code> 而言，它只可以包含 <a href="#Entities_and_LaTeX_Fragments">entities</a>, <a href="#Entities_and_LaTeX_Fragments">latex fragments</a>, <a href="#Subscript_and_Superscript">subscript</a> 和 <a href="#Subscript_and_Superscript">superscript</a>。
</p>

<p>
<b>Targets</b> 的模式如下:
</p>

<pre class="example">
&lt;&lt;TARGET&gt;&gt;
</pre>

<p>
<b>TARGET</b> 可以是除了 <code>&lt;</code>, <code>&gt;</code> 和 <code>\n</code> 之外的任何字符。 不能包含任何 <code>Objects</code> .
</p>
</div>
</div>

<div id="outline-container-orge692cf3" class="outline-3">
<h3 id="Statistics_Cookies"><a id="orge692cf3"></a><span class="section-number-3">5.9</span> Statistics Cookies</h3>
<div class="outline-text-3" id="text-Statistics_Cookies">
<p>
<b>Statistics cookies</b> 遵循任一模式:
</p>

<pre class="example">
[PERCENT%]
[NUM1/NUM2]
</pre>

<p>
<b>PERCENT</b> ，*NUM1* 和 <b>NUM2</b> 是数字或空字符串。
</p>
</div>
</div>

<div id="outline-container-orgd591102" class="outline-3">
<h3 id="Subscript_and_Superscript"><a id="orgd591102"></a><span class="section-number-3">5.10</span> Subscript and Superscript</h3>
<div class="outline-text-3" id="text-Subscript_and_Superscript">
<p>
<b>Subscript</b> 的模式是:
</p>

<pre class="example">
CHAR_SCRIPT
</pre>

<p>
<b>Superscript</b> 的模式是:
</p>

<pre class="example">
CHAR^SCRIPT
</pre>

<p>
<b>CHAR</b> 是任何非空格字符。
</p>

<p>
<b>SCRIPT</b> 可以是 <code>*</code> 或括在括号（respectively curly brackets）中的表达式，可能包含平衡括号（respectively curly brackets）。
</p>

<p>
SCRIPT循该如下模式:
</p>
<pre class="example">
SIGN CHARS FINAL
</pre>

<p>
<b>SIGN</b> 是加号，减号或空字符串。
</p>

<p>
<b>CHARS</b> 是任意数量的字母数字字符，逗号，反斜杠和点，或空字符串。
</p>

<p>
<b>FINAL</b> 是一个字母数字字符。
</p>

<p>
<b>SIGN</b> ，*CHARS* 和 <b>FINAL</b> 之间没有空格。
</p>
</div>
</div>

<div id="outline-container-org9df84ff" class="outline-3">
<h3 id="Table_Cells"><a id="org9df84ff"></a><span class="section-number-3">5.11</span> Table Cells</h3>
<div class="outline-text-3" id="text-Table_Cells">
<p>
<b>Table cells</b> 遵循如下模式:
</p>

<pre class="example">
CONTENTS SPACES|
</pre>

<p>
CONTENTS可以包含除垂直条之外的任何字符。
</p>

<p>
SPACES包含任意数量的空格字符，包括零。 它可用于正确对齐表格。
</p>

<p>
最后一个条可以用行中最后一个单元格的换行符替换。
</p>
</div>
</div>

<div id="outline-container-orgb9682ee" class="outline-3">
<h3 id="Timestamp"><a id="orgb9682ee"></a><span class="section-number-3">5.12</span> Timestamps</h3>
<div class="outline-text-3" id="text-Timestamp">
<p>
<b>Timestamp</b> 有七种可能的模式:
</p>

<pre class="example">
&lt;%%(SEXP)&gt;                                   (diary)
&lt;DATE TIME REPEATER-OR-DELAY&gt;                                  (active)
[DATE TIME REPEATER-OR-DELAY]                                  (inactive)
&lt;DATE TIME REPEATER-OR-DELAY&gt;--&lt;DATE TIME REPEATER-OR-DELAY&gt;   (active range)
&lt;DATE TIME-TIME REPEATER-OR-DELAY&gt;                             (active range)
[DATE TIME REPEATER-OR-DELAY]--[DATE TIME REPEATER-OR-DELAY]   (inactive range)
[DATE TIME-TIME REPEATER-OR-DELAY]                             (inactive range)
</pre>

<p>
<b>SEXP</b> 可以包含除了 <code>&gt;</code> 和 <code>\n</code> 之外任何字符。
</p>

<p>
<b>DATE</b> 模式如下:
</p>

<pre class="example">
YYYY-MM-DD DAYNAME
</pre>

<p>
<b>Y</b> ，*M* 和 <b>D</b> 是数字。 DAYNAME可以包含除 <code>+</code>, <code>-</code>, <code>]</code>, <code>&gt;</code>, 数字 和 <code>\n</code> 之外的任何非空白字符。
</p>

<p>
<b>TIME</b> 遵循模式= H：MM〜。 H可以是一个或两个数字长，可以从0开始。
</p>

<p>
REPEATER 模式如下:
</p>

<pre class="example">
MARK VALUE UNIT
</pre>

<p>
<b>MARK</b> 对于 <code>repeater</code> 而言，是 <code>+</code> (<i>cumulate type</i>), <code>++</code> (<i>catch-up type</i>) 或者 <code>.+</code> (<i>restart type</i>) 。
在 <code>warning delays</code> 的请求， <b>MARK</b> 可以是 <code>-</code> (<i>all type</i>) 或者 <code>--</code> (<i>first type</i>)。
</p>

<p>
<b>VALUE</b> 是一个数字。
</p>

<p>
<b>UNIT</b> 是h（小时），d（日），w（周），m（月），y（年）中的字符。
</p>

<p>
<b>MARK</b> ，*VALUE* 和 <b>UNIT</b> 不以空格字符分隔。
</p>

<p>
时间戳中可以有两个REPEATER-OR-DELAY：一个作为 <code>repeater</code> ，一个作为 <code>warning delays</code> 。
</p>
</div>
</div>

<div id="outline-container-orgfc727f2" class="outline-3">
<h3 id="Emphasis_Markers"><a id="orgfc727f2"></a><span class="section-number-3">5.13</span> Text Markup</h3>
<div class="outline-text-3" id="text-Emphasis_Markers">
<p>
<b>Text markup</b> 模式如下:
</p>

<pre class="example">
PRE MARKER CONTENTS MARKER POST
</pre>

<p>
<b>PRE</b> 是一个空格字符, <code>(</code>, <code>{</code> <code>'</code> 或一个双引号，它也可以是一行的开头。
</p>

<p>
<b>MARKER</b> 是 <code>*</code> (bold), <code>=</code> (verbatim), <code>/</code> (italic), <code>+</code> (strike-through), <code>_</code> (underline), <code>~</code> (code) 中的符号。
</p>

<p>
<b>CONTENTS</b> 是模式如下的字符串:
</p>

<pre class="example">
BORDER BODY BORDER
</pre>

<p>
<b>BORDER</b> 可以是除了 <code>,</code>, <code>'</code> 和双引号之外的任何非空格字符。
</p>

<p>
<b>BODY</b> 可以包含任何字符，但不能跨越超过3行。
</p>

<p>
<b>BORDER</b> 和 <b>BODY</b> 不被空格分隔。
</p>

<p>
当标记为 "bold", "italic", "strike-through" 或者 "underline"时， <b>CONTENTS</b> 可以包含段落中遇到的任何对象。
</p>

<p>
POST是一个空格字符， <code>-</code>, <code>.</code>, <code>,</code>, <code>:</code>, <code>!</code>, <code>?</code>, <code>'</code>, <code>)</code>, <code>}</code> 或双引号。 它也可以是行尾。
</p>

<p>
<b>PRE</b> ， <b>MARKER</b> ， <b>CONTENTS</b> ，*MARKER* 和 <b>POST</b> 不以空格字符分隔。
</p>

<hr>

<blockquote>
<p>
All of this is wrong if <code>org-emphasis-regexp-components</code> or
<code>org-emphasis-alist</code> are modified.
</p>

<p>
This should really be simplified and made persistent (i.e. no
defcustom allowed).  Otherwise, portability and parsing are
jokes.
</p>

<p>
Also, CONTENTS should be anything within code and verbatim
emphasis, by definition.  &#x2014; ngz
</p>
</blockquote>
</div>
</div>
</div>
<div id="footnotes">
<h2 class="footnotes">&#33050;&#27880;: </h2>
<div id="text-footnotes">

<div class="footdef"><sup><a id="fn.1" class="footnum" href="#fnr.1">1</a></sup> <div class="footpara"><p class="footpara">
<a href="http://orgmode.org/worg/dev/org-syntax.html" target="_blank" rel="external">Org Syntax (draft)</a> 的org源码: <a href="http://orgmode.org/worg/sources/dev/org-syntax.org" target="_blank" rel="external">http://orgmode.org/worg/sources/dev/org-syntax.org</a>
</p>

<p class="footpara">
因此，使用 <code>org-element-at-point</code> 或 <code>org-element-context</code> 将向上移动到父标题，并从那里自顶向下解析，直到找到原始位置周围的上下文。
</p></div></div>

<div class="footdef"><sup><a id="fn.2" class="footnum" href="#fnr.2">2</a></sup> <div class="footpara"><p class="footpara">
特别说明，解析器要求在列0处的星号在不被定义为标题时用逗号来引用。
</p></div></div>

<div class="footdef"><sup><a id="fn.3" class="footnum" href="#fnr.3">3</a></sup> <div class="footpara"><p class="footpara">
这也意味着只有 <code>Headline</code> 和 <code>Section</code> 能通过查看行的开头来识别。 <code>Planning lines</code> 和 <code>Property drawers</code> 可以通过查看一行或两行以上来识别。
</p></div></div>


</div>
</div>
Last Updated 2017-04-21 Fri 16:16.<br>Render by <a href="https://github.com/CodeFalling/hexo-renderer-org" target="_blank" rel="external">hexo-renderer-org</a> with <a href="http://www.gnu.org/software/emacs/" target="_blank" rel="external">Emacs</a> 24.5.1 (<a href="http://orgmode.org" target="_blank" rel="external">Org</a> mode 9.0.5)

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/tutorial/" rel="tag"># tutorial</a>
          
            <a href="/tags/org-mode/" rel="tag"># org-mode</a>
          
            <a href="/tags/org-syntax/" rel="tag"># org-syntax</a>
          
            <a href="/tags/org-internal-structure/" rel="tag"># org-internal-structure</a>
          
        </div>
      

      
        
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2017/03/07/hello-world/" rel="next" title="Hello World">
                <i class="fa fa-chevron-left"></i> Hello World
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2017/03/21/just-try/" rel="prev" title="Org-mode 手册版">
                Org-mode 手册版 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
      <div id="uyan_frame"></div>
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="https://avatars1.githubusercontent.com/u/26197076?v=3&s=400"
               alt="Brantou" />
          <p class="site-author-name" itemprop="name">Brantou</p>
           
              <p class="site-description motion-element" itemprop="description">The best time to plant a tree was 20 years ago. The second best time is now.</p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">8</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              <a href="/categories/index.html">
                <span class="site-state-item-count">2</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">15</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        
          <div class="feed-link motion-element">
            <a href="/atom.xml" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/brantou" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://twitter.com/brantou89" target="_blank" title="Twitter">
                  
                    <i class="fa fa-fw fa-twitter"></i>
                  
                  Twitter
                </a>
              </span>
            
          
        </div>

        
        

        
        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#Headlines_and_Sections"><span class="nav-number">1.</span> <span class="nav-text">1 Headlines and Sections</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Affiliated_keywords"><span class="nav-number">2.</span> <span class="nav-text">2 Affiliated Keywords</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Greater_Elements"><span class="nav-number">3.</span> <span class="nav-text">3 Greater Elements</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Greater_Blocks"><span class="nav-number">3.1.</span> <span class="nav-text">3.1 Greater Blocks</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Drawers_and_Property_Drawers"><span class="nav-number">3.2.</span> <span class="nav-text">3.2 Drawers and Property Drawers</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Dynamic_Blocks"><span class="nav-number">3.3.</span> <span class="nav-text">3.3 Dynamic Blocks</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Footnote_Definitions"><span class="nav-number">3.4.</span> <span class="nav-text">3.4 Footnote Definitions</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Inlinetasks"><span class="nav-number">3.5.</span> <span class="nav-text">3.5 Inlinetasks</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Plain_Lists_and_Items"><span class="nav-number">3.6.</span> <span class="nav-text">3.6 Plain Lists and Items</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#org115b309"><span class="nav-number">3.7.</span> <span class="nav-text">3.7 Property Drawers</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Tables"><span class="nav-number">3.8.</span> <span class="nav-text">3.8 Tables</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Elements"><span class="nav-number">4.</span> <span class="nav-text">4 Elements</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Babel_Call"><span class="nav-number">4.1.</span> <span class="nav-text">4.1 Babel Call</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Blocks"><span class="nav-number">4.2.</span> <span class="nav-text">4.2 Blocks</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Clock,_Diary_Sexp_and_Planning"><span class="nav-number">4.3.</span> <span class="nav-text">4.3 Clock, Diary Sexp and Planning</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Comments"><span class="nav-number">4.4.</span> <span class="nav-text">4.4 Comments</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Fixed_Width_Areas"><span class="nav-number">4.5.</span> <span class="nav-text">4.5 Fixed Width Areas</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Horizontal_Rules"><span class="nav-number">4.6.</span> <span class="nav-text">4.6 Horizontal Rules</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Keywords"><span class="nav-number">4.7.</span> <span class="nav-text">4.7 Keywords</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#LaTeX_Environments"><span class="nav-number">4.8.</span> <span class="nav-text">4.8 LaTeX Environments</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Node_Properties"><span class="nav-number">4.9.</span> <span class="nav-text">4.9 Node Properties</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Paragraphs"><span class="nav-number">4.10.</span> <span class="nav-text">4.10 Paragraphs</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Table_Rows"><span class="nav-number">4.11.</span> <span class="nav-text">4.11 Table Rows</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Objects"><span class="nav-number">5.</span> <span class="nav-text">5 Objects</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Entities_and_LaTeX_Fragments"><span class="nav-number">5.1.</span> <span class="nav-text">5.1 Entities and LaTeX Fragments</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Export_Snippets"><span class="nav-number">5.2.</span> <span class="nav-text">5.2 Export Snippets</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Footnote_References"><span class="nav-number">5.3.</span> <span class="nav-text">5.3 Footnote References</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Inline_Babel_Calls_and_Source_Blocks"><span class="nav-number">5.4.</span> <span class="nav-text">5.4 Inline Babel Calls and Source Blocks</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Line_Breaks"><span class="nav-number">5.5.</span> <span class="nav-text">5.5 Line Breaks</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Links"><span class="nav-number">5.6.</span> <span class="nav-text">5.6 Links</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Macros"><span class="nav-number">5.7.</span> <span class="nav-text">5.7 Macros</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Targets_and_Radio_Targets"><span class="nav-number">5.8.</span> <span class="nav-text">5.8 Targets and Radio Targets</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Statistics_Cookies"><span class="nav-number">5.9.</span> <span class="nav-text">5.9 Statistics Cookies</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Subscript_and_Superscript"><span class="nav-number">5.10.</span> <span class="nav-text">5.10 Subscript and Superscript</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Table_Cells"><span class="nav-number">5.11.</span> <span class="nav-text">5.11 Table Cells</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Timestamp"><span class="nav-number">5.12.</span> <span class="nav-text">5.12 Timestamps</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Emphasis_Markers"><span class="nav-number">5.13.</span> <span class="nav-text">5.13 Text Markup</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#undefined"><span class="nav-number">6.</span> <span class="nav-text">脚注: </span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Brantou</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>


        
<div class="busuanzi-count">
  <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="site-uv">
      <i class="fa fa-user"></i>
      <span class="busuanzi-value" id="busuanzi_value_site_uv"></span>
      
    </span>
  

  
    <span class="site-pv">
      <i class="fa fa-eye"></i>
      <span class="busuanzi-value" id="busuanzi_value_site_pv"></span>
      
    </span>
  
</div>


        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.0"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.0"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.0"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  


  




	





  





  
    

    
      <!-- UY BEGIN -->
      <script type="text/javascript" src="http://v2.uyan.cc/code/uyan.js?uid=2131606"></script>
      <!-- UY END -->
    
  





  






  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length == 0) {
      search_path = "search.xml";
    }
    var path = "/" + search_path;
    // monitor main search box;

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.popup').toggle();
    }
    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';
      $.ajax({
        url: path,
        dataType: "xml",
        async: true,
        success: function( xmlResponse ) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = $( "entry", xmlResponse ).map(function() {
            return {
              title: $( "title", this ).text(),
              content: $("content",this).text(),
              url: $( "url" , this).text()
            };
          }).get();
          var $input = document.getElementById(search_id);
          var $resultContent = document.getElementById(content_id);
          $input.addEventListener('input', function(){
            var matchcounts = 0;
            var str='<ul class=\"search-result-list\">';
            var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
            $resultContent.innerHTML = "";
            if (this.value.trim().length > 1) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var content_index = [];
                var data_title = data.title.trim().toLowerCase();
                var data_content = data.content.trim().replace(/<[^>]+>/g,"").toLowerCase();
                var data_url = decodeURIComponent(data.url);
                var index_title = -1;
                var index_content = -1;
                var first_occur = -1;
                // only match artiles with not empty titles and contents
                if(data_title != '') {
                  keywords.forEach(function(keyword, i) {
                    index_title = data_title.indexOf(keyword);
                    index_content = data_content.indexOf(keyword);
                    if( index_title >= 0 || index_content >= 0 ){
                      isMatch = true;
                      if (i == 0) {
                        first_occur = index_content;
                      }
                    }

                  });
                }
                // show search results
                if (isMatch) {
                  matchcounts += 1;
                  str += "<li><a href='"+ data_url +"' class='search-result-title'>"+ data_title +"</a>";
                  var content = data.content.trim().replace(/<[^>]+>/g,"");
                  if (first_occur >= 0) {
                    // cut out 100 characters
                    var start = first_occur - 20;
                    var end = first_occur + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if(start == 0){
                      end = 50;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    var match_content = content.substring(start, end);
                    // highlight all keywords
                    keywords.forEach(function(keyword){
                      var regS = new RegExp(keyword, "gi");
                      match_content = match_content.replace(regS, "<b class=\"search-keyword\">"+keyword+"</b>");
                    });

                    str += "<p class=\"search-result\">" + match_content +"...</p>"
                  }
                  str += "</li>";
                }
              })};
            str += "</ul>";
            if (matchcounts == 0) { str = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>' }
            if (keywords == "") { str = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>' }
            $resultContent.innerHTML = str;
          });
          proceedsearch();
        }
      });}

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched == false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(function(e){
      $('.popup').hide();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    });
    $('.popup').click(function(e){
      e.stopPropagation();
    });
  </script>





  

  

  

  

  

</body>
</html>
